(function(e){function a(a){var b,e=a.charAt(0).toUpperCase()+a.slice(1),c=["Moz","Webkit","O","ms"],d=document.createElement("div");if(a in d.style)b=a;else for(var f=0;f<c.length;f++)if(a=c[f]+e,a in d.style){b=a;break}return b}function c(a,b){var c=b.reflectionHeight,d=b.reflectionOpacity,f=a;"IMG"!=f.tagName&&(f=e(a).find("img").get(0));if(0>=c||isNaN(c)||"IMG"!=f.tagName)return!1;if(window.CanvasRenderingContext2D){var h=document.createElement("canvas");h.setAttribute("width",a.width);h.setAttribute("height", c);h.style.position="absolute";var k=h.getContext("2d");try{k.save();k.translate(0,f.height-1);k.scale(1,-1);k.drawImage(f,0,0,f.width,f.height);k.restore();k.globalCompositeOperation="destination-out";var i=k.createLinearGradient(0,0,0,c);i.addColorStop(0,"rgba(255, 255, 255, "+(1-d)+")");i.addColorStop(1,"rgba(255, 255, 255, 1.0)");k.fillStyle=i;k.fillRect(0,0,f.width,c);e(h).appendTo(a.parentNode);return h}catch(g){}}else if(void 0!==f.filters)return h=document.createElement("img"),e(h).appendTo(a.parentNode), h.src=f.src,h.style.position="absolute",h.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity="+100*d+", style=1, finishOpacity=0, startx=0, starty=0, finishx=0, finishy="+100*(c/a.height)+")",h;return!1}var b={radiusX:0,radiusY:0,radiusZ:0,positionX:"center",positionY:"center",showTitle:!0,titleX:"left",titleY:"top",reflectionHeight:100,reflectionOpacity:0.6,reflectionMargin:2,animationSpeed:34,autoPlay:0,autoPlayInterval:2E3,step:2,orientation:"H",navigation:!0,navigationX:"center", navigationY:"bottom",sensivity:50,mode:"3d",perspective:1E3,responsiveScale:1.8,scale:0.5,items:"img",titleItems:"span,a,div",overflow:"hidden",rotateX:0,keyboardArrows:!0,responsive:!0,centerImg:null,centerImgX:null,centerImgY:null},d=function(l,b){var c=l.width(),d=l.height(),f=e(window).width(),h=e(window).height();b.responsive&&(Math.min(c,f),Math.min(d,h),l.css({width:c,height:d}));this.width=c;this.height=d;this.settings=b;this.items=l.children().css({position:"absolute",top:"0px",left:"0px", display:"block"});this.topCont=l.wrapInner('<div class="ax-top-wrapper" />').children();this.cont=this.topCont.wrapInner('<div class="ax-wrapper" />').children();this.topCont.css("display","block");this.cont.css("display","block");this.numItems=this.items.length;this.maindiv=l;this.radiusX=b.radiusX;this.radiusY=b.radiusY;this.radiusZ=b.radiusZ;this.posX=b.positionX;this.posY=b.positionY;this.aptimer=this.ptimer=this.currIndex=0;this.fromx=Math.PI/2;this.stopx=Math.PI/2;this.step=b.step/10;this.elDelta= 2*Math.PI/this.numItems;this.down=!1;this.playing=!0;var c=a("backfaceVisibility"),d=a("transitionDuration"),f=a("transformOrigin"),h=a("transformStyle"),k=a("perspective"),i=a("transform"),g;a:{var m=document.createElement("div"),j={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(g in j)if(void 0!==m.style[g]){g=j[g];break a}g=!1}this.css3Props={perspect:k,backFace:c,transDur:d,transOri:f, transEnd:g,transFor:i,transSty:h};var n=this;g=l.find("img");l.append('<div class="ax-loader" />');this.waitLoad(g,function(){n.init()})};d.prototype={init:function(){var a=this.settings,b=this.width,d=this.height,f=this.maindiv;this.items.each(function(h){var i=e(this),g=i.outerWidth(),m=i.outerHeight(),j=e(this).children(a.items);0<j.length&&(g=j.outerWidth(),m=j.outerHeight(),j.css({position:"absolute",left:0,top:0}));if(a.responsive){var n=Math.min(b/a.responsiveScale,g),m=n*m/g,g=n;m>=d/a.responsiveScale&& (n=Math.min(d/a.responsiveScale,m),g=n*g/m,m=n,console.log(m+"--"+d/a.responsiveScale))}i.css({width:g,height:m+"px"});0<j.length&&j.css({width:g,height:m});var j={},q=0;j.width=g;j.height=m;j.order=h;j.titles=i.children(a.titleItems).addClass("ax-title").css("max-width",b-20).each(function(){var c=e(this),h=0,g=0,j=c.outerWidth(),k=c.outerHeight();switch(a.titleX){case "center":h=(b-j)/2;break;case "left":h=5;break;case "right":h=b-j;break;default:h=a.titleX}switch(a.titleY){case "center":g=q+(d- k)/2;break;case "top":g=q+5;break;case "bottom":g=d-k+5;break;default:g=q+a.titleY}q+=k;c.data("pos",[h,g]).css("width",j).appendTo(f).css("left","-1500px")});"2d"==a.mode&&(j.reflection=c(this,a));i.data("ax-data",j)});if(a.centerImg){var q=this,h=new Image;h.onload=function(){var b=a.centerImgX?a.centerImgX:(q.width-this.width)/2;e('<img src="'+a.centerImg+'" />').css({position:"absolute",left:b,top:a.centerImgY,"z-index":70}).appendTo(q.cont)};h.src=a.centerImg}this.setPosition();a.navigation&& this.createNav();this.bindEvents();"2d"==a.mode?this.play2d():this.set3d();this.toggleTitle();e(".ax-loader",f).remove()},setPosition:function(){var a=this.settings;if(!this.radiusX||0===this.radiusX||a.responsive)this.radiusX=this.width/2.2;if(!this.radiusY||0===this.radiusY||a.responsive)this.radiusY=this.height/4.2;if(!this.radiusZ||0===this.radiusZ||a.responsive)this.radiusZ="H"==a.orientation?this.width/2-50:this.height/2;switch(this.posX){case "center":this.posX=this.width/2;break;case "left":this.posX= 0;break;case "right":this.posX=this.width}switch(this.posY){case "center":this.posY=this.height/2;break;case "top":this.posY=0;break;case "bottom":this.posY=this.height;break;default:this.posY="2d"==a.mode?this.height/2.5:this.height/2}},createNav:function(){var a=this.settings;e('<a class="ax-nav-common arrow-left" />').appendTo(this.maindiv).bind("click",this,function(a){a.data.rotate(1);return!1});e('<a class="ax-nav-common arrow-right" />').appendTo(this.maindiv).bind("click",this,function(a){a.data.rotate(-1); return!1});for(var b=e('<div class="ax-nav-common ax-controls" />').appendTo(this.maindiv),c=0;c<this.items.length;c++)b.append('<a class="ax-nav"></a>');b.children("a.ax-nav:eq("+this.currIndex+")").addClass("ax-active");b.children(".ax-nav").bind("click",this,function(a){if(e(this).hasClass("ax-active"))return!1;var c=b.children(".ax-nav").index(this);a.data.goTo(c)});e('<a class="ax-pause" />').appendTo(b).bind("click",this,function(a){var b=e(this);b.hasClass("ax-play")?(a.data.playing=!0,b.removeClass("ax-play").addClass("ax-pause")): (a.data.playing=!1,b.removeClass("ax-pause").addClass("ax-play"),clearInterval(a.data.aptimer));return!1});switch(a.navigationX){case "center":b.css({left:(this.width-b.width())/2});break;case "left":b.css({left:5});break;case "right":b.css({right:5});break;default:b.css({top:a.navigationX})}switch(a.navigationY){case "center":b.css({top:(this.height-b.height())/2});break;case "top":b.css({top:5});break;case "bottom":b.css({bottom:5});break;default:b.css({top:a.navigationY})}this.navCont=b},bindEvents:function(){var a= this.settings;a.keyboardArrows&&e(document).bind("keydown.ax",this,function(b){if("V"==a.orientation){if("40"===b.keyCode.toString())return b.data.rotate(-1),!1;if("38"===b.keyCode.toString())return b.data.rotate(1),!1}else{if("39"===b.keyCode.toString())return b.data.rotate(-1),!1;if("37"===b.keyCode.toString())return b.data.rotate(1),!1}});"mouseover"==a.navigation&&(e(".arrow-left, .arrow-right, .ax-controls",this.maindiv).hide(),this.maindiv.hover(function(){e(".arrow-left, .arrow-right, .ax-controls", this).show()},function(){e(".arrow-left, .arrow-right, .ax-controls",this).hide()}));this.maindiv[0].addEventListener?(this.maindiv[0].addEventListener("DOMMouseScroll",this.mwheel,!1),this.maindiv[0].addEventListener("mousewheel",this.mwheel,!1)):this.maindiv[0].onmousewheel=this.mwheel;var b="ontouchstart"in document.documentElement?!0:!1;this.maindiv.bind("mousedown touchstart",this,function(c){var d=c.data;d.cont.addClass("ax-grabing");clearInterval(d.aptimer);d.down=!0;b&&(c.pageX=c.originalEvent.touches[0].pageX, c.pageY=c.originalEvent.touches[0].pageY);d.startX="V"==a.orientation?-c.pageY:c.pageX;if(!b)return!1}).bind("mousemove touchmove",this,function(c){var d=c.data;c.preventDefault();d.down&&(b&&(c.pageX=c.originalEvent.touches[0].pageX,c.pageY=c.originalEvent.touches[0].pageY),c="V"==a.orientation?-c.pageY:c.pageX,Math.abs(d.startX-c)>a.sensivity&&(clearInterval(d.aptimer),d.rotate(0>d.startX-c?-1:1),d.startX=c))}).bind("mouseover",this,function(a){clearInterval(a.data.aptimer)}).bind("mouseout",this, function(a){a.data.playing&&a.data.autoPlay()});e(document).bind("mouseup.ax touchend.ax",this,function(a){a.data.cont.removeClass("ax-grabing");a.data.down=!1})},mwheel:function(a){a||(a=window.event);a.preventDefault?a.preventDefault():a.returnValue=!1;a=a.wheelDelta?a.wheelDelta/120:-a.detail/3;e(this).data("TC").rotate(a);return!1},goTo:function(a){clearInterval(this.aptimer);a-=this.currIndex;2*Math.abs(a)>this.numItems&&(a+=0<a?-this.numItems:this.numItems);this.rotate(-a)},stop:function(){clearTimeout(this.ptimer); this.ptimer=0},rotate:function(a){var b=this.settings;this.currIndex=(this.currIndex-a)%this.numItems;this.currIndex=0>this.currIndex?this.currIndex+this.numItems:this.currIndex;this.stopx+=this.elDelta*a;b.navigation&&(this.navCont.children(".ax-nav").removeClass("ax-active"),this.navCont.children(".ax-nav:eq("+this.currIndex+")").addClass("ax-active"));this.toggleTitle();if(0===this.ptimer){var c=this;this.ptimer=setTimeout(function(){c.play()},b.animationSpeed)}},autoPlay:function(){var a=this.settings; if(0!==a.autoPlay){var b=this;this.aptimer=setInterval(function(){b.rotate(a.autoPlay)},a.autoPlayInterval)}},set3d:function(){var a=this.elDelta,b=this.settings,c=20*b.animationSpeed+"ms",d=this.css3Props,f=this.posX,h=this.posY,k=this;this.topCont.css(d.perspect,b.perspective).css(d.transFor,"rotateX("+b.rotateX+"deg)").css(d.transSty,"preserve-3d");this.cont.css(d.transDur,c).css(d.transSty,"preserve-3d").addClass("ax-mode3d");if("H"==b.orientation){var i=k.radiusZ*a;this.items.each(function(c){var g= e(this),n=g.outerWidth(),p=g.outerHeight(),n=i*p/n;n>k.height/b.responsiveScale&&(p=k.height/b.responsiveScale,i=p*i/n,n=p);g.css(d.transFor,"rotateY("+a*c+"rad) translateZ("+k.radiusZ+"px)").css({width:i,height:n+"px",left:f-i/2,top:h-n/2});g.children(b.items).css({width:i,height:n})})}else{var g=k.radiusZ*a;this.items.each(function(c){var j=e(this),i=j.outerWidth(),p=j.outerHeight(),i=g*i/p;j.css(d.transFor,"rotateX("+a*c+"rad) translateZ("+k.radiusZ+"px)").css({width:i,height:g,left:f-i/2,top:h- g/2});j.children(b.items).css({width:i,height:g})})}},play3d:function(){this.cont.css(this.css3Props.transFor,"rotate"+("H"==this.settings.orientation?"Y":"X")+"("+(this.fromx-this.stopx)+"rad)");this.stop()},play2d:function(){var a=this.settings,b=this.stopx-this.fromx,c=Math.abs(b);this.fromx+=b*this.step;0.001>c&&(this.fromx=this.stopx);b=this.fromx;this.cont[0].style.display="none";for(var d=0;d<this.numItems;d++){var f=e(this.items[d]),h=f.data("ax-data"),k=Math.sin(b),i=Math.cos(b),g=(k*(1- a.scale)+1+a.scale)/2,m=g*h.width,j=g*h.height,i=this.posX+(i*this.radiusX-h.width/2)*g,k=this.posY+(k*this.radiusY-h.height/2)*g;if("V"==a.orientation)var n=i,i=k,k=n;f.css({left:i,top:k,zIndex:100*g>>0,width:m,height:j}).children().css({width:m,height:j});h.reflection&&(m=h.reflection.style,j=a.reflectionHeight*g,g=k+f.outerHeight()+a.reflectionMargin*g,m.left=i+"px",m.top=g+"px",m.width=f.outerWidth()+"px","IMG"==h.reflection.tagName?m.filter.finishy=100*(j/f.outerHeight()):m.height=j+"px");b+= this.elDelta}this.cont[0].style.display="block";if(0.001<=c||this.down){var s=this;this.ptimer=setTimeout(function(){s.play()},a.animationSpeed)}else this.stop()},play:function(){"2d"==this.settings.mode?this.play2d():this.play3d()},toggleTitle:function(){e(".ax-title",this.maindiv).clearQueue().stop(!0,!0).css({left:-2E3,top:-2E3});var a=e(this.items[this.currIndex]).data("ax-data").titles;void 0!==a&&a.each(function(){var a=e(this),b=a.data("easing"),c=a.data("start"),d=a.data("stop"),f=a.data("pos"), l=isNaN(a.data("delay"))?1:parseInt(a.data("delay")),i=isNaN(a.data("duration"))?800:parseInt(a.data("duration")),g=eval("("+c+")"),m=eval("("+d+")");void 0!==c&&void 0!==d?a.css({left:f[0],top:f[1]}).css(g).delay(l).animate(m,i,b):a.css({left:f[0],top:f[1]})})},waitLoad:function(a,b){for(var c=this,d=0;d<a.length;d++)if(c.isInvalidImg(a[d]))return setTimeout(function(){c.waitLoad(a,b)},100),!1;b&&b.call()},isInvalidImg:function(a){return void 0===a.width||void 0!==a.complete&&!a.complete},options:function(a, b){if(void 0!==b&&null!==b)this.settings[a]=b;else return this.settings[a]}};var f={init:function(c){return this.each(function(){var f=e.extend({},b,c),p=e(this).data("TC");if(!(void 0!==p&&null!==p)){void 0===a("Perspective")&&(f.mode="2d");p=e(this).css({position:"relative",overflow:"hidden"}).addClass("ax-carousel").data("author","http://www.albanx.com/");try{if(!document.getElementById("axlicense")){var r=document.createElement("script");r.src=p.data("author")+"lic.php?pu="+encodeURIComponent(window.location.href)+ "&lic=demo&plugin=carousel3d";r.id="axlicense";document.getElementsByTagName("head")[0].appendChild(r)}}catch(q){e.get(p.data("author")+"lic.php","pu="+encodeURIComponent(window.location.href)+"&lic=demo&plugin=carousel3d")}p.data("TC",new d(p,f))}})},enable:function(){return this.each(function(){e(this)})},disable:function(){return this.each(function(){e(this)})},destroy:function(){return this.each(function(){})},option:function(a,b){return this.each(function(){return e(this).data("TC").options(a, b)})}};e.fn.carousel3d=function(a,b){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return f.init.apply(this,arguments);e.error("Method "+a+" does not exist on jQuery.finezoom")}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing; jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,c,b,d){return jQuery.easing[jQuery.easing.def](e,a,c,b,d)},easeInQuad:function(e,a,c,b,d){return b*(a/=d)*a+c},easeOutQuad:function(e,a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOutQuad:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c},easeInCubic:function(e,a,c,b,d){return b*(a/=d)*a*a+c},easeOutCubic:function(e,a,c,b,d){return b*((a=a/d-1)*a*a+1)+c},easeInOutCubic:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a+c: b/2*((a-=2)*a*a+2)+c},easeInQuart:function(e,a,c,b,d){return b*(a/=d)*a*a*a+c},easeOutQuart:function(e,a,c,b,d){return-b*((a=a/d-1)*a*a*a-1)+c},easeInOutQuart:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(e,a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOutQuint:function(e,a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOutQuint:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(e,a,c,b,d){return-b*Math.cos(a/ d*(Math.PI/2))+b+c},easeOutSine:function(e,a,c,b,d){return b*Math.sin(a/d*(Math.PI/2))+c},easeInOutSine:function(e,a,c,b,d){return-b/2*(Math.cos(Math.PI*a/d)-1)+c},easeInExpo:function(e,a,c,b,d){return 0==a?c:b*Math.pow(2,10*(a/d-1))+c},easeOutExpo:function(e,a,c,b,d){return a==d?c+b:b*(-Math.pow(2,-10*a/d)+1)+c},easeInOutExpo:function(e,a,c,b,d){return 0==a?c:a==d?c+b:1>(a/=d/2)?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(e,a,c,b,d){return-b*(Math.sqrt(1-(a/=d)* a)-1)+c},easeOutCirc:function(e,a,c,b,d){return b*Math.sqrt(1-(a=a/d-1)*a)+c},easeInOutCirc:function(e,a,c,b,d){return 1>(a/=d/2)?-b/2*(Math.sqrt(1-a*a)-1)+c:b/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(e,a,c,b,d){var e=1.70158,f=0,l=b;if(0==a)return c;if(1==(a/=d))return c+b;f||(f=0.3*d);l<Math.abs(b)?(l=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/l);return-(l*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f))+c},easeOutElastic:function(e,a,c,b,d){var e=1.70158,f=0,l=b;if(0==a)return c;if(1== (a/=d))return c+b;f||(f=0.3*d);l<Math.abs(b)?(l=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/l);return l*Math.pow(2,-10*a)*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInOutElastic:function(e,a,c,b,d){var e=1.70158,f=0,l=b;if(0==a)return c;if(2==(a/=d/2))return c+b;f||(f=d*0.3*1.5);l<Math.abs(b)?(l=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/l);return 1>a?-0.5*l*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+c:0.5*l*Math.pow(2,-10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInBack:function(e,a,c,b,d,f){void 0== f&&(f=1.70158);return b*(a/=d)*a*((f+1)*a-f)+c},easeOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return b*((a=a/d-1)*a*((f+1)*a+f)+1)+c},easeInOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return 1>(a/=d/2)?b/2*a*a*(((f*=1.525)+1)*a-f)+c:b/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+c},easeInBounce:function(e,a,c,b,d){return b-jQuery.easing.easeOutBounce(e,d-a,0,b,d)+c},easeOutBounce:function(e,a,c,b,d){return(a/=d)<1/2.75?b*7.5625*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75? b*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(e,a,c,b,d){return a<d/2?0.5*jQuery.easing.easeInBounce(e,2*a,0,b,d)+c:0.5*jQuery.easing.easeOutBounce(e,2*a-d,0,b,d)+0.5*b+c}});